<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Clouds | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.3.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="./Chapter15.html" />
    
    
    <link rel="prev" href="./jumpconfig.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="11" data-basepath="." data-revision="Sat Sep 19 2015 04:27:44 GMT-0700 (Pacific Daylight Time)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Chapter1.html">
            
                
                    <a href="./Chapter1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Starting Out
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="FrameworksSources.html">
            
                
                    <a href="./FrameworksSources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Managers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Game.html">
            
                
                    <a href="./Game.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Game
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Program.html">
            
                
                    <a href="./Program.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Program
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Chapter2.html">
            
                
                    <a href="./Chapter2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Why Tiles?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Chapter3.html">
            
                
                    <a href="./Chapter3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Map Format
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Chapter6.html">
            
                
                    <a href="./Chapter6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Creating Tiles
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Practice/PracticeCh6.html">
            
                
                    <a href="./Practice/PracticeCh6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Chapter5.html">
            
                
                    <a href="./Chapter5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Map Tools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Chapter8.html">
            
                
                    <a href="./Chapter8.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        The Hero
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Practice/PracticeTheHero.html">
            
                
                    <a href="./Practice/PracticeTheHero.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Chapter9.html">
            
                
                    <a href="./Chapter9.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Keys To Move
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Practice/PracticeMoving.html">
            
                
                    <a href="./Practice/PracticeMoving.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Chapter10.html">
            
                
                    <a href="./Chapter10.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Hit The Wall
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="Chapter11.html">
            
                
                    <a href="./Chapter11.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Open The Door
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="cleanup.html">
            
                
                    <a href="./cleanup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Cleaning Up
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="borders.html">
            
                
                    <a href="./borders.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Screen Borders
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="Chapter12.html">
            
                
                    <a href="./Chapter12.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Jumping
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="jumpconfig.html">
            
                
                    <a href="./jumpconfig.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Configurable Jumping
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="11" data-path="Chapter13.html">
            
                
                    <a href="./Chapter13.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Clouds
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="Chapter15.html">
            
                
                    <a href="./Chapter15.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Simple Enemy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="Chapter17.html">
            
                
                    <a href="./Chapter17.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Shooting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="Chapter18.html">
            
                
                    <a href="./Chapter18.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Getting Items
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="Chapter20.html">
            
                
                    <a href="./Chapter20.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        X Scrolling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="Chapter21.html">
            
                
                    <a href="./Chapter21.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        X More Scrolling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="Chapter22.html">
            
                
                    <a href="./Chapter22.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        X Depth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="Chapter23.html">
            
                
                    <a href="./Chapter23.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        X Ismetric View
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="Chapter24.html">
            
                
                    <a href="./Chapter24.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        X Mouse To Move
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="Chapter25.html">
            
                
                    <a href="./Chapter25.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        X Iso Mouse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="Chapter26.html">
            
                
                    <a href="./Chapter26.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        X Iso Scroll
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="Chapter27.html">
            
                
                    <a href="./Chapter27.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        X Rotating Hero
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="Chapter28.html">
            
                
                    <a href="./Chapter28.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        X Rotating Ground
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="Chapter29.html">
            
                
                    <a href="./Chapter29.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        X Slopes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="Chapter30.html">
            
                
                    <a href="./Chapter30.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        X Hexagons
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="Chapter7.html">
            
                
                    <a href="./Chapter7.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        X More Tiles
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="clouds">Clouds</h1>
<p>A cloud is a pretty simple construct in a platformer. You can walk trough a clouds left or right side. You can jump from below the clowd over it. So, there is no collision on it&apos;s bottom, left or right. However, you can land on a cloud. So it does have collision on the top. In this section, we&apos;re going to build a simple cloud. Things like breakable bricks or enemies in super mario are similar, they do one thing from one direction and another thing from another direction.</p>
<h3 id="new-project">New Project</h3>
<p>Let&apos;s make a new project, call it <strong>Clouds</strong> and get this project up to par with the <strong>Configurable Jumping</strong> section of the writeup. We&apos;re going to work from here.</p>
<h3 id="updated-tile-sheet">Updated tile sheet</h3>
<p>I&apos;ve updated <strong>HouseTiles.png</strong> to be a new image. Right click on the below image, save as and overwrite your old one. This tile sheet is still shared between projects, i didn&apos;t touch any of the existing tiles, instead the sheet is now larger at 512x512 pixels.</p>
<p><img src="Images/HouseTiles_revision1.png" alt="TILES"></p>
<h3 id="updated-rooms">Updated rooms</h3>
<p>In <strong>Game.cs</strong> replace the <strong>SpriteSources</strong> array with this revised version:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">protected</span> Rectangle[] spriteSources = <span class="hljs-keyword">new</span> Rectangle[] {
    <span class="hljs-comment">// OLD</span>
    <span class="hljs-comment">/* 0  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">466</span>,<span class="hljs-number">32</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>),
    <span class="hljs-comment">/* 1  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">466</span>,<span class="hljs-number">1</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>),
    <span class="hljs-comment">/* 2  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">32</span>,<span class="hljs-number">187</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>),
    <span class="hljs-comment">// NEW</span>
    <span class="hljs-comment">/* 3  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">466</span>, <span class="hljs-number">125</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// blue border</span>
    <span class="hljs-comment">/* 4  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">311</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// blackness</span>
    <span class="hljs-comment">/* 5  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">466</span>, <span class="hljs-number">63</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// ground layer</span>
    <span class="hljs-comment">/* 6  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">63</span>, <span class="hljs-number">218</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// blank ladder</span>
    <span class="hljs-comment">/* 7  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">156</span>, <span class="hljs-number">218</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// ground ladder</span>
    <span class="hljs-comment">/* 8  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">63</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>),  <span class="hljs-comment">// skele 1</span>
    <span class="hljs-comment">/* 9  */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">94</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// slele 2</span>
    <span class="hljs-comment">/* 10 */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">125</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// skele 3</span>
    <span class="hljs-comment">/* 11 */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">156</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// cloud 1</span>
    <span class="hljs-comment">/* 12 */</span><span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">187</span>, <span class="hljs-number">249</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>), <span class="hljs-comment">// cloud 2</span>
};
</code></pre>
<p>Next update room 1 layout and room 2 layout</p>
<pre><code class="lang-cs"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">int</span>[][] room1Layout = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[][] {
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span> }
};
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">int</span>[][] room2Layout = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[][] {
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,<span class="hljs-number">10</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span> }
};
</code></pre>
<p>Find where we make the rooms, and add 4, 8, 9 and 10 as walkable tiles:</p>
<pre><code class="lang-cs">room1 = <span class="hljs-keyword">new</span> Map(room1Layout, spriteSheets, spriteSources, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);
room2 = <span class="hljs-keyword">new</span> Map(room2Layout, spriteSheets, spriteSources, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);
</code></pre>
<p>The new rooms have adjacent doors. <strong>On your own, update the door tiles</strong>.</p>
<p><strong>Running the game</strong>, you should see these two rooms:</p>
<p><img src="Images/sidebyside.png" alt="ROOMS"></p>
<p>You should be able to walk around without crashing. Confirm that you can walk from room 1 to room 2 and from room 2 from room one. You are ready to proceed when it works.</p>
<h3 id="refactoring-tile">Refactoring Tile</h3>
<p>Go into <strong>Tile.cs</strong> and add a new public boolean to the <code>Tile</code> class. Call this bool <code>IsCloud</code> and give it a default vlaue of false!</p>
<h3 id="refactoring-game">Refactoring Game</h3>
<p>Back in <strong>Game.cs</strong> find the code that makes doors. Immediateley after that set the stone platform (11 and 12) to be clouds. Do this by indexing the map array and setting the <code>.IsCloud</code> bool in the tiles to true. So far nothing has really changed, if you try to run the game the platform is still solid from all sides.</p>
<h3 id="refactoring-playercharacter">Refactoring PlayerCharacter</h3>
<p>In the Left / Right movement, find where we check if the tile is walkable, it looks something like this:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">if</span> (!Game.Instance.GetTile(Corners[CORNER_TOP_LEFT]).Walkable) {
</code></pre>
<p>We have to edit this check, the new check should be <strong>If corner is not walkable AND corner is not cloud</strong>. Remember, both left and right have two checks one for the upper corner and one for the lower corner.</p>
<p>Finally, find where the upper collision does that same check. Modify the if statement in the same way.</p>
<p><strong>Run the game</strong>, you should be able to do everything you have been able to do before. The big difference is now you can walk under the platform and jump up. It will land you on the platform.</p>
<h3 id="smooth-landing">Smooth landing</h3>
<p>The only problem we have at this point is when the player passed trough the platform he was snapped to it. This is a jarring action that we want to avoid. Instead we want to go ahead and let him finish the jump.</p>
<p>The key to finishing the jump is going to be in velocity. Where we check if the feet of the player collide with the top of the platform, we are also going to check the platform type. If the platform type is cloud AND the players velocity is negative then we will not clamp.</p>
<p>Find this bit of code:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">if</span> (!Game.Instance.GetTile(Corners[CORNER_BOTTOM_LEFT]).Walkable) {
    Rectangle intersection = Intersections.Rect(Rect, Game.Instance.GetTileRect(Corners[CORNER_BOTTOM_LEFT]));
    <span class="hljs-keyword">if</span> (intersection.Width * intersection.Height &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// Ground Player</span>
</code></pre>
<p>and change it according to the above description. Here is a pseudo code guide to help you get started:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">if</span> (!Game.Instance.GetTile(Corners[CORNER_BOTTOM_LEFT]).Walkable) {
    Rectangle intersection = Intersections.Rect(Rect, Game.Instance.GetTileRect(Corners[CORNER_BOTTOM_LEFT]));
    <span class="hljs-keyword">if</span> (intersection.Width * intersection.Height &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> ( [Not a cloud] OR [Velocity greater than <span class="hljs-number">0</span>]) {
            <span class="hljs-comment">// Ground Player</span>
</code></pre>
<p>All we do is wrap the grounding code in another if statement. Remember, the grounding code exists twice, once for the bottom left and once for the bottom right corner. </p>
<p>What&apos;s up with that if statement!?!?! <strong>Not cloud || height &gt; 0</strong> ??? I tought we wanted to check <strong>is cloud &amp;&amp; height &lt; 0</strong>!! The thing is, those if statements are logically the same. The logic on each side of the operator is flipped, and so is the operator. This works fine in this case.</p>
<p><strong>Run the game</strong> standing under the platform, you should now be able to jump trough it, complete the jump and land!</p>
<h1 id="done">Done</h1>
<p>This was a fairly quick lesson, this is because adding special case tiles is easy. If you need to create something like a brick for super mario, or a bush for the legend of zelda follow the steps we just took. </p>
<ul>
<li>First, you update the tile to contain the new variable. </li>
<li>Then you update Game to set the new variable. </li>
<li>Last you update player (or enemy, or game) to handle the new special case tile.</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./jumpconfig.html" class="navigation navigation-prev " aria-label="Previous page: Configurable Jumping"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./Chapter15.html" class="navigation navigation-next " aria-label="Next page: Simple Enemy"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
