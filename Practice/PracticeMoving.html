<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>On Your Own | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.3.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../Chapter10.html" />
    
    
    <link rel="prev" href="../Chapter9.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="7.1" data-basepath=".." data-revision="Thu Sep 24 2015 04:17:38 GMT-0700 (Pacific Daylight Time)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Chapter1.html">
            
                
                    <a href="../Chapter1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Starting Out
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="FrameworksSources.html">
            
                
                    <a href="../FrameworksSources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Managers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Game.html">
            
                
                    <a href="../Game.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Game
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Program.html">
            
                
                    <a href="../Program.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Program
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Chapter2.html">
            
                
                    <a href="../Chapter2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Why Tiles?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Chapter3.html">
            
                
                    <a href="../Chapter3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Map Format
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Chapter6.html">
            
                
                    <a href="../Chapter6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Creating Tiles
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Practice/PracticeCh6.html">
            
                
                    <a href="../Practice/PracticeCh6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Chapter5.html">
            
                
                    <a href="../Chapter5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Map Tools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Chapter8.html">
            
                
                    <a href="../Chapter8.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        The Hero
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Practice/PracticeTheHero.html">
            
                
                    <a href="../Practice/PracticeTheHero.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Chapter9.html">
            
                
                    <a href="../Chapter9.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Keys To Move
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="7.1" data-path="Practice/PracticeMoving.html">
            
                
                    <a href="../Practice/PracticeMoving.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        On Your Own
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Chapter10.html">
            
                
                    <a href="../Chapter10.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Hit The Wall
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="Chapter11.html">
            
                
                    <a href="../Chapter11.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Open The Door
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="cleanup.html">
            
                
                    <a href="../cleanup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Cleaning Up
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="borders.html">
            
                
                    <a href="../borders.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Screen Borders
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="Chapter12.html">
            
                
                    <a href="../Chapter12.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Jumping
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="jumpconfig.html">
            
                
                    <a href="../jumpconfig.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Configurable Jumping
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="Chapter13.html">
            
                
                    <a href="../Chapter13.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Clouds
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="Chapter15.html">
            
                
                    <a href="../Chapter15.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Simple Enemy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="Chapter17.html">
            
                
                    <a href="../Chapter17.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Shooting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="Chapter18.html">
            
                
                    <a href="../Chapter18.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Getting Items
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="Chapter20.html">
            
                
                    <a href="../Chapter20.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Scrolling
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="Chapter21.html">
            
                
                    <a href="../Chapter21.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        Limit Scrolling
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="Chapter22.html">
            
                
                    <a href="../Chapter22.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Depth
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="SpeerateCollisionAndRendering.html">
            
                
                    <a href="../SpeerateCollisionAndRendering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Collision &amp; Rendering
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="AddingAHouse.html">
            
                
                    <a href="../AddingAHouse.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Visual Tweaks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="DepthBuffer.html">
            
                
                    <a href="../DepthBuffer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Depth Buffer
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="Chapter23.html">
            
                
                    <a href="../Chapter23.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        X Ismetric View
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="Chapter24.html">
            
                
                    <a href="../Chapter24.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        X Mouse To Move
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="Chapter25.html">
            
                
                    <a href="../Chapter25.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        X Iso Mouse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="Chapter26.html">
            
                
                    <a href="../Chapter26.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        X Iso Scroll
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="Chapter27.html">
            
                
                    <a href="../Chapter27.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        X Rotating Hero
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="Chapter28.html">
            
                
                    <a href="../Chapter28.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        X Rotating Ground
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="Chapter29.html">
            
                
                    <a href="../Chapter29.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        X Slopes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="Chapter30.html">
            
                
                    <a href="../Chapter30.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        X Hexagons
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="Chapter7.html">
            
                
                    <a href="../Chapter7.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        X More Tiles
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="on-your-own">On Your Own</h1>
<p>We now have a way to make the character walk on screen! Huzza! One small problem we&apos;re having here is that the hero is just kind of sliding around on the screen! While animations are not required to make a decent game demo, they help. A lot. So in this section we&apos;re going to add animations to our Hero!</p>
<h3 id="new-project">New Project</h3>
<p>Let&apos;s make a new project, call it <strong>MovingPractice</strong> and get this project up to par with the <strong>KeysToMove</strong> section of the writeup.</p>
<h3 id="getting-started">Getting started</h3>
<p>We will have to change code in the <code>Character</code> class, and add new code to the <code>PlayerCharacter</code> class to support animations. Keep in mind, i&apos;m only going to give you guidance to how i would implement animation. You can follow my lead, or come up with your own way of doing things. There is no right or wrong way. So long as it looks right and runs fast it&apos;s good!</p>
<p>The basic concept is simple, when we add a sprite i don&apos;t want to just add a single rectangle. I want to add a variable number of rectangles to the sprite name. I also want to add an animation flag. If animation is false, show only the current (first?) rectangle of the sprite name. If animation is true, flip trough all of the rectangles in the sprite name at a set framerate.</p>
<h3 id="refactoring-character">Refactoring Character</h3>
<p>First things first, let&apos;s refactor the <code>Character</code> class. In <strong>Character.cs</strong> we have the following function:</p>
<pre><code class="lang-cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddSprite</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name,Rectangle source</span>) </span>{
</code></pre>
<p>I want to change this function to support multiple rectangles. Instead of taking a list, take a params array:</p>
<pre><code class="lang-cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddSprite</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name, <span class="hljs-keyword">params</span> Rectangle[] source</span>) </span>{
</code></pre>
<p>This will allow the function to be called with a variable number of rectangles seperated by only commas. Of course this is going to break a few things. This bit of code is no longer valid:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-keyword">string</span>, Rectangle&gt; spriteSources = <span class="hljs-keyword">null</span>;
</code></pre>
<p>That however is an easy fix, just change the value type to be a Rectangle array</p>
<pre><code class="lang-cs"><span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-keyword">string</span>, Rectangle[]&gt; spriteSources = <span class="hljs-keyword">null</span>;
</code></pre>
<p>Now the <code>AddSprite</code> method works again, but the <code>Render</code> method is broken!</p>
<p>There are a few ways to fix this. You could always render frame 0, but that&apos;s a bad idea! You could add an integer to the <code>Character</code> class and call it <code>currentFrame</code>. This int would represent what frame to display. Adding an integer sounds like a good idea, it&apos;s certainly intuitive. But it does have a serious flaw: not every animation is going to have the same number of frames.</p>
<p>Because each animation can have a variable number of frames, we need to add house-keeping. Whenever a new animation is played, the currentFrame has to be reset to 0 to avoid going out of bounds. But then switching back to the old animation, you can&apos;t just resume where you left off. This may or may not be the behaviour you want. Is there an alternative?</p>
<p>Yes, yes there is. You could keep a parallel array. One who&apos;s key is a <code>string</code> and value is an <code>int</code>. So it would know the walk animation is on frame 5, while the idle animation is on frame 2. In this case you would also have to add a new string, and call it currentAnimation. This would be used to index into the dictionary. Wow, thats a lot of house keeping! I&apos;m already getting confused!</p>
<p>So, how should we handle this?!?!?! Well, experience tells me having an integer called <code>currentFrame</code> is the best approach. It&apos;s easy to read and requires the least amount of house keeping. It also makes the most sense. So i&apos;m just going to add a new integer to the <code>Character</code> class:</p>
<pre><code class="lang-cs"><span class="hljs-keyword">namespace</span> <span class="hljs-title">TheHero</span> {
    <span class="hljs-keyword">class</span> <span class="hljs-title">Character</span> {
        <span class="hljs-keyword">public</span> PointF Position { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">protected</span> <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Sprite { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">public</span> Dictionary&lt;<span class="hljs-keyword">string</span>, Rectangle&gt; spriteSource { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> currentSprite { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">int</span> currentFrame = <span class="hljs-number">0</span>; <span class="hljs-comment">// NEW</span>
        <span class="hljs-comment">// ^ protected means any children of this class can modify the variable</span>
</code></pre>
<p>and let&apos;s not forget to fix the <code>Render</code> method:</p>
<pre><code class="lang-cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Render</span>(<span class="hljs-params"></span>) </span>{
    TextureManager.Instance.Draw(Sprite, <span class="hljs-keyword">new</span> Point((<span class="hljs-keyword">int</span>)Position.X, (<span class="hljs-keyword">int</span>)Position.Y), <span class="hljs-number">1.0</span>f, spriteSources[currentSprite][currentFrame]);
}
</code></pre>
<p>Running the game at this point, you should be able to walk around with link. From the players point of view nothing has changed! But from the programmers point of view, we have laid the groundwork for animating the character.</p>
<h3 id="refactoring-player-character">Refactoring Player Character</h3>
<p>At this point, whatever the <code>currentFrame</code> variable is set to will be displayed. All you need to do is add some more frames. I&apos;ll spare you having to look up the frame positions manually, here are the walking frames for link:</p>
<pre><code class="lang-cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PlayerCharacter</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> spriteSheet, Point startPos</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">spriteSheet, startPos</span>) </span>{
    <span class="hljs-comment">// ^ The Constructor which take a string and a Point of the base class (Character)</span>
    <span class="hljs-comment">// is called using the : notation.</span>

    AddSprite(<span class="hljs-string">&quot;Down&quot;</span>, <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">59</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>, <span class="hljs-number">30</span>), <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">87</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>, <span class="hljs-number">30</span>));
    AddSprite(<span class="hljs-string">&quot;Up&quot;</span>, <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">115</span>, <span class="hljs-number">3</span>, <span class="hljs-number">22</span>, <span class="hljs-number">28</span>), <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">141</span>, <span class="hljs-number">3</span>, <span class="hljs-number">22</span>, <span class="hljs-number">28</span>));
    AddSprite(<span class="hljs-string">&quot;Left&quot;</span>, <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">26</span>, <span class="hljs-number">30</span>), <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">31</span>, <span class="hljs-number">1</span>, <span class="hljs-number">26</span>, <span class="hljs-number">31</span>));
    AddSprite(<span class="hljs-string">&quot;Right&quot;</span>, <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">195</span>, <span class="hljs-number">1</span>, <span class="hljs-number">26</span>, <span class="hljs-number">30</span>), <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">167</span>, <span class="hljs-number">1</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>));
}
</code></pre>
<p>Animation is as simple as setting <code>currentFrame</code>. I&apos;ll let you figure out how that should be done. I&apos;ll include some hints as to how i did it below.</p>
<h3 id="animation-my-method">Animation, my method</h3>
<p>I added three variables to the <code>PlayerCharacter</code> class to support animation:</p>
<ul>
<li>bool animating = false</li>
<li>float animFPS = 1.0f / 9.0f;</li>
<li>float timeTimer = 0.0f</li>
</ul>
<p>The <strong>animating</strong> boolean is self explanatory. If it&apos;s set to true the animation is playing. If it&apos;s set to false then no animation plays. This is how i make link no animate if no button is pressed. That boolean is only true while one of the movement buttons is held down.</p>
<p>The <strong>animFPS</strong> float isn&apos;t as straight forward. Link animates at 9 frames / second. This means in one second you see 9 frames of animation. So, why <em>1.0f / 9.0f</em>? Simple, we are going to have a counter. That counter is going to count upwards from 0. If we want to display 9 frames every second, that means we want to show ONE new frame every 0.11 seconds. <em>1.0f / 9.0f</em> equals 0.11.</p>
<p>The <strong>timeTimer</strong> float is pretty simple. This is the counter variable that counts upwards. If <strong>timeTimer</strong> is greater than <strong>animFPS</strong> then we will flip one frame!</p>
<p>So how is this all implemented? In each of the if statements that checks if a key is down (and moves the position and sets the sprite if it is) i also set animating to true. After the if blocks that handle input i check if animating is true. If it is, i add deltaTime to animTimer. </p>
<p>Still inside the <code>if(animating) {</code> block, i put anoter nested if. If the animTimer is greater than animFPS, i add one to the currentFrame. I also subtract animFPS from animTimer, this gives a smooth animation. Time for yet another nested if, if the currentFrame is greater than the Length of the current spriteSources array then i reset currentFrame to 0 (to keep from going out of bounds). </p>
<p>Finally outside of any if statements, after the <code>if(animating) {</code> block i set animating back to false. It&apos;s the default state of the animating variable. This way, if no key is pressed no animation happens.</p>
<h3 id="check-in">Check in</h3>
<p>Skype or text me if you have any questions. Turning the <code>PlayerCharacter</code> class into a flip book is not easy, but i think you can do it!</p>
<p>If you finish this section skype or text me. I want to look over your work before you move on to the next section!</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Chapter9.html" class="navigation navigation-prev " aria-label="Previous page: Keys To Move"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Chapter10.html" class="navigation navigation-next " aria-label="Next page: Hit The Wall"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
